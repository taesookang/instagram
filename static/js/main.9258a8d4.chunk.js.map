{"version":3,"sources":["constants/Routes.js","context/firebase.js","lib/firebase.js","context/user.js","helpers/ProtectedRoute.js","helpers/IsUserLoggedIn.js","App.js","hooks/useAuthListener.js","index.js"],"names":["DASHBOARD","LOGIN","SIGNUP","PROFILE","NOT_FOUND","firebaseContext","React","createContext","firebase","Firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","FieldValue","firestore","userContext","ProtectedRoute","user","children","rest","render","location","to","pathname","ROUTES","state","from","IsUserLoggedIn","loggedInPath","Login","lazy","SignUp","Dashboard","Profile","NotFound","App","useState","JSON","parse","localStorage","getItem","setUser","useContext","useEffect","listener","auth","onAuthStateChanged","authUser","setItem","stringify","removeItem","useAuthListener","Provider","value","fallback","path","component","exact","ReactDOM","document","getElementById"],"mappings":"uGAAA,0KAAO,IAAMA,EAAY,IACZC,EAAQ,SACRC,EAAS,UACTC,EAAU,eACVC,EAAY,c,gCCJzB,WAEMC,EAFN,OAEwBC,EAAMC,cAAc,MAE7BF,O,gCCJf,gFAcMG,GAdN,YAciBC,IAASC,cATX,CACXC,OAAQC,0CACRC,WAAYD,kCACZE,UAAWF,kBACXG,cAAeH,8BACfI,kBAAmBJ,eACnBK,MAAOL,+CAIHM,EAAeT,IAASU,UAAxBD,Y,gCCfR,WAEME,EAFN,OAEoBd,EAAMC,cAAc,MAEzBa,O,kKCAA,SAASC,EAAT,GAAsD,IAA5BC,EAA2B,EAA3BA,KAAMC,EAAqB,EAArBA,SAAaC,EAAQ,mCAClE,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,YAAmB,IAAhBC,EAAe,EAAfA,SACT,OAAIJ,EACKC,EAGJD,EAUE,KARH,cAAC,IAAD,CACEK,GAAI,CACFC,SAAUC,IACVC,MAAO,CAAEC,KAAML,UCfhB,SAASM,EAAT,GAAoE,IAA1CV,EAAyC,EAAzCA,KAAMW,EAAmC,EAAnCA,aAAcV,EAAqB,EAArBA,SAAaC,EAAQ,kDAChF,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,YAAmB,IAAhBC,EAAe,EAAfA,SACT,OAAKJ,EAIDA,EAEA,cAAC,IAAD,CACEK,GAAI,CACFC,SAAUK,EACVH,MAAO,CAAEC,KAAML,MAKhB,KAbEH,MCAjB,IAAMW,EAAQC,gBAAK,kBAAM,gCACnBC,EAASD,gBAAK,kBAAM,gCACpBE,EAAYF,gBAAK,kBAAM,6DACvBG,EAAUH,gBAAK,kBAAM,sDACrBI,EAAWJ,gBAAK,kBAAM,gCAmCbK,MAjCf,WAAgB,IACNlB,ECbK,WAA4B,IAAD,EAChBmB,mBACtBC,KAAKC,MAAMC,aAAaC,QAAQ,cAFM,mBACjCvB,EADiC,KAC3BwB,EAD2B,KAIhCtC,EAAauC,qBAAW1C,KAAxBG,SAgBR,OAdAwC,qBAAU,WACR,IAAMC,EAAWzC,EAAS0C,OAAOC,oBAAmB,SAACC,GAC/CA,GACFR,aAAaS,QAAQ,WAAYX,KAAKY,UAAUF,IAChDN,EAAQM,KAERR,aAAaW,WAAW,YACxBT,EAAQ,UAIZ,OAAO,kBAAMG,OACZ,CAACzC,IAEG,CAAEc,QDPQkC,GAATlC,KACR,OACE,cAAC,IAAYmC,SAAb,CAAsBC,MAAO,CAAEpC,QAA/B,SACE,cAAC,IAAD,UACE,cAAC,WAAD,CAAUqC,SAAU,2CAApB,SACE,eAAC,IAAD,WACE,cAAC3B,EAAD,CACEV,KAAMA,EACNW,aAAcJ,IACd+B,KAAM/B,IAHR,SAKE,cAACK,EAAD,MAEF,cAACF,EAAD,CACEV,KAAMA,EACNW,aAAcJ,IACd+B,KAAM/B,IAHR,SAKE,cAACO,EAAD,MAEF,cAAC,IAAD,CAAOwB,KAAM/B,IAAgBgC,UAAWvB,IACxC,cAACjB,EAAD,CAAgBC,KAAMA,EAAMsC,KAAM/B,IAAkBiC,OAAK,EAAzD,SACE,cAACzB,EAAD,MAEF,cAAC,IAAD,CAAOwB,UAAWtB,c,cEjC9BwB,IAAStC,OACP,cAAC,IAAgBgC,SAAjB,CAA0BC,MAAO,CAAElD,aAAUU,gBAA7C,SACE,cAAC,EAAD,MAEF8C,SAASC,eAAe,W","file":"static/js/main.9258a8d4.chunk.js","sourcesContent":["export const DASHBOARD = '/';\nexport const LOGIN = '/login';\nexport const SIGNUP = '/signup';\nexport const PROFILE = '/p/:username';\nexport const NOT_FOUND = '/not-found';\n","import React from 'react'\n\nconst firebaseContext = React.createContext(null);\n\nexport default firebaseContext;\n","import Firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n// import { seedDatabase } from '../seed';\n\nconst config = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n    appId: process.env.REACT_APP_APP_ID\n};\n\nconst firebase = Firebase.initializeApp(config);\nconst { FieldValue } = Firebase.firestore;\n\n\n// seedDatabase(firebase);\n\nexport { firebase, FieldValue };","import React from 'react'\n\nconst userContext = React.createContext(null);\n\nexport default userContext;\n","import PropTypes from \"prop-types\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport * as ROUTES from \"../constants/Routes\";\n\nexport default function ProtectedRoute({ user, children, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => {\n        if (user) {\n          return children;\n        }\n\n        if (!user) {\n          return (\n            <Redirect\n              to={{\n                pathname: ROUTES.LOGIN,\n                state: { from: location },\n              }}\n            />\n          );\n        }\n        return null;\n      }}\n    />\n  );\n}\n\nProtectedRoute.propTypes = {\n    user: PropTypes.object,\n    children: PropTypes.object.isRequired\n}\n","import PropTypes from \"prop-types\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default function IsUserLoggedIn({ user, loggedInPath, children, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => {\n        if (!user) {\n          return children;\n        }\n\n        if (user) {\n          return (\n            <Redirect\n              to={{\n                pathname: loggedInPath,\n                state: { from: location },\n              }}\n            />\n          );\n        }\n        return null;\n      }}\n    />\n  );\n}\n\nIsUserLoggedIn.propTypes = {\n    user: PropTypes.object,\n    loggedInPath: PropTypes.string.isRequired,\n    children: PropTypes.object.isRequired\n}\n","import React, { lazy, Suspense } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport * as ROUTES from \"./constants/Routes\";\nimport userContext from \"./context/user\";\nimport useAuthListener from \"./hooks/useAuthListener\";\n\nimport ProtectedRoute from \"./helpers/ProtectedRoute\";\nimport IsUserLoggedIn from \"./helpers/IsUserLoggedIn\";\n\nconst Login = lazy(() => import(\"./pages/Login\"));\nconst SignUp = lazy(() => import(\"./pages/Signup\"));\nconst Dashboard = lazy(() => import(\"./pages/Dashboard\"));\nconst Profile = lazy(() => import(\"./pages/Profile\"));\nconst NotFound = lazy(() => import(\"./pages/NotFound\"));\n\nfunction App() {\n  const { user } = useAuthListener();\n  return (\n    <userContext.Provider value={{ user }}>\n      <Router>\n        <Suspense fallback={<p>Loading...</p>}>\n          <Switch>\n            <IsUserLoggedIn\n              user={user}\n              loggedInPath={ROUTES.DASHBOARD}\n              path={ROUTES.LOGIN}\n            >\n              <Login />\n            </IsUserLoggedIn>\n            <IsUserLoggedIn\n              user={user}\n              loggedInPath={ROUTES.DASHBOARD}\n              path={ROUTES.SIGNUP}\n            >\n              <SignUp />\n            </IsUserLoggedIn>\n            <Route path={ROUTES.PROFILE} component={Profile} />\n            <ProtectedRoute user={user} path={ROUTES.DASHBOARD} exact>\n              <Dashboard />\n            </ProtectedRoute>\n            <Route component={NotFound} />\n          </Switch>\n        </Suspense>\n      </Router>\n    </userContext.Provider>\n  );\n}\n\nexport default App;\n","import { useState, useEffect, useContext } from \"react\";\nimport firebaseContext from \"../context/firebase\";\n\nexport default function useAuthListener() {\n  const [user, setUser] = useState(\n    JSON.parse(localStorage.getItem(\"authUser\"))\n  );\n  const { firebase } = useContext(firebaseContext);\n\n  useEffect(() => {\n    const listener = firebase.auth().onAuthStateChanged((authUser) => {\n      if (authUser) {\n        localStorage.setItem(\"authUser\", JSON.stringify(authUser));\n        setUser(authUser);\n      } else {\n        localStorage.removeItem(\"authUser\");\n        setUser(null);\n      }\n    });\n\n    return () => listener();\n  }, [firebase]);\n\n  return { user };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport firebaseContext from './context/firebase'\nimport { firebase, FieldValue } from './lib/firebase'\nimport './styles/app.css'\n\nReactDOM.render(\n  <firebaseContext.Provider value={{ firebase, FieldValue }}>\n    <App /> \n  </firebaseContext.Provider>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}